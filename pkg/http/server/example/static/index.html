<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code with Kids - HTTP Server</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .section {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            border-left: 4px solid #4CAF50;
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 16px;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #45a049;
        }
        
        .output {
            background: #f8f9fa;
            color: #333;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            min-height: 50px;
            border-left: 4px solid #007bff;
        }
        
        .api-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .endpoint {
            background: #2d3748;
            color: #e2e8f0;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
            font-family: 'Courier New', monospace;
        }
        
        .success { color: #4CAF50; }
        .error { color: #f44336; }
        .info { color: #2196F3; }
        
        /* Football Draw Styles */
        .team-selection {
            margin: 20px 0;
        }
        
        .teams-container {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .available-teams, .selected-teams {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            min-height: 400px;
        }
        
        .available-teams h4, .selected-teams h4 {
            margin: 0 0 15px 0;
            text-align: center;
            color: #FFD700;
        }
        
        .teams-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 8px;
            max-height: 350px;
            overflow-y: auto;
        }
        
        .team-card {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .team-card:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #4CAF50;
            transform: translateY(-2px);
        }
        
        .team-card.selected {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4CAF50;
        }
        
        .team-card.available {
            background: rgba(33, 150, 243, 0.2);
            border-color: #2196F3;
        }
        
        .selection-controls {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }
        
        .select-all-btn, .clear-all-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .select-all-btn {
            background: #4CAF50;
            color: white;
        }
        
        .select-all-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        
        .clear-all-btn {
            background: #f44336;
            color: white;
        }
        
        .clear-all-btn:hover {
            background: #da190b;
            transform: translateY(-2px);
        }
        
        .team-count {
            font-size: 18px;
            font-weight: bold;
            color: #4CAF50;
            text-align: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            min-width: 120px;
        }
        
        .draw-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .draw-buttons button {
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .draw-buttons button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .groups-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .group {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid #FFD700;
        }
        
        .group h4 {
            margin: 0 0 10px 0;
            color: #FFD700;
            text-align: center;
        }
        
        .group ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .group li {
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .group li:last-child {
            border-bottom: none;
        }
        
        .matches-container {
            max-height: 300px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .match {
            padding: 8px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            text-align: center;
            border-left: 3px solid #2196F3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèÜ Champions League Draw Simulator</h1>
        
        <div class="section">
            <h2>Welcome to the Champions League Draw!</h2>
            <p>Select 36 football teams from the available list and generate groups and matches like the real Champions League!</p>
        </div>

        <div class="section">
            <h3>üèÜ Champions League Draw Simulator</h3>
            <p>Choose 36 teams from the available list and generate the draw!</p>
            
            <div class="team-selection">
                <div class="teams-container">
                    <div class="available-teams">
                        <h4>Available Teams</h4>
                        <div class="teams-grid" id="availableTeams"></div>
                    </div>
                    
                    <div class="selection-controls">
                        <button onclick="selectAllTeams()" class="select-all-btn">Select All</button>
                        <button onclick="clearAllTeams()" class="clear-all-btn">Clear All</button>
                        <div class="team-count">
                            Selected: <span id="teamCount">0</span>/36
                        </div>
                    </div>
                    
                    <div class="selected-teams">
                        <h4>Selected Teams</h4>
                        <div class="teams-grid" id="selectedTeams"></div>
                    </div>
                </div>
                
                <div class="draw-buttons">
                    <button onclick="generateDraw()" id="generateBtn" disabled>Generate Champions League Draw</button>
                    <button onclick="downloadResults()" id="downloadBtn" style="display: none;">Download Results</button>
                </div>
            </div>
            
            <div class="draw-results" id="drawResults" style="display: none;">
                <h4>üèÜ Champions League Groups</h4>
                <div id="groupsDisplay" class="groups-container"></div>
                
                <h4>‚öΩ Matches Schedule</h4>
                <div id="matchesDisplay" class="matches-container"></div>
            </div>
        </div>

        <div class="api-section">
            <h3>Available Server Endpoints</h3>
            <div class="endpoint">GET / - Welcome page (this page)</div>
            <div class="endpoint">GET /info - Server information</div>
            <div class="endpoint">GET /health - Health check with system stats</div>
            <div class="endpoint">GET /ready - Readiness check</div>
            <div class="endpoint">GET /live - Liveness check</div>
            <div class="endpoint">GET /static/* - Static files (CSS, JS, images)</div>
        </div>
    </div>

    <!-- Include the external JavaScript files -->
    <script src="/static/learning.js"></script>
    <script src="/static/football-draw.js"></script>

    <script>


        // Football Draw Variables
        let footballDraw = new FootballDraw();
        let allTeams = [
            // Original 36 teams from teams.txt
            'Real Madrid', 'Manchester City', 'Bayern Munich', 'Paris Saint-Germain',
            'Barcelona', 'Arsenal', 'Atl√©tico Madrid', 'Inter Milan',
            'Borussia Dortmund', 'Bayer Leverkusen', 'Juventus', 'AC Milan',
            'Porto', 'Benfica', 'Shakhtar Donetsk', 'Lazio',
            'PSV Eindhoven', 'Crvena Zvezda', 'Spartak Moscow', 'CSKA Moscow',
            'Tottenham Hotspur', 'Chelsea', 'Manchester United', 'AS Monaco',
            'Paok', 'Olympique de Marseille', 'OKA', 'Villarreal',
            'Olympiacos', 'Olimpia', 'K.R.C. Genk', 'AFC Ajax',
            'FK Partizan', 'Porto 2', 'Sibir Novosibirsk', 'Eintracht Frankfurt',
            
            // Additional teams to make 50 total
            'Liverpool', 'AC Milan', 'Ajax Amsterdam', 'FC Porto',
            'Sevilla', 'Valencia', 'Roma', 'Napoli',
            'Fiorentina', 'Lazio', 'Atalanta', 'Sassuolo',
            'Leicester City', 'West Ham United', 'Aston Villa', 'Newcastle United',
            'RB Leipzig', 'Hoffenheim', 'Wolfsburg', 'Hertha Berlin',
            'Lyon', 'Nice', 'Lille', 'Rennes',
            'Sporting CP', 'Braga', 'Vit√≥ria SC', 'Boavista',
            'Feyenoord', 'AZ Alkmaar', 'Twente', 'Utrecht',
            'Club Brugge', 'Anderlecht', 'Standard Li√®ge', 'Gent',
            'Red Bull Salzburg', 'Rapid Vienna', 'Sturm Graz', 'Austria Vienna',
            'Slavia Prague', 'Sparta Prague', 'Viktoria Plze≈à', 'Bohemians 1905',
            'Dinamo Zagreb', 'Hajduk Split', 'Rijeka', 'Osijek',
            'Red Star Belgrade', 'Partizan Belgrade', 'Vojvodina', 'ƒåukariƒçki'
        ];
        
        let selectedTeams = [];
        
        // Initialize the page
        function initializePage() {
            renderAvailableTeams();
            renderSelectedTeams();
            updateTeamCount();
        }
        
        // Render available teams
        function renderAvailableTeams() {
            const availableTeamsContainer = document.getElementById('availableTeams');
            const availableTeams = allTeams.filter(team => !selectedTeams.includes(team));
            
            let html = '';
            availableTeams.forEach(team => {
                html += `<div class="team-card available" onclick="selectTeam('${team}')">${team}</div>`;
            });
            
            availableTeamsContainer.innerHTML = html;
        }
        
        // Render selected teams
        function renderSelectedTeams() {
            const selectedTeamsContainer = document.getElementById('selectedTeams');
            
            let html = '';
            selectedTeams.forEach((team, index) => {
                html += `<div class="team-card selected" onclick="deselectTeam(${index})">${team}</div>`;
            });
            
            selectedTeamsContainer.innerHTML = html;
        }
        
        // Select a team
        function selectTeam(teamName) {
            if (selectedTeams.length >= 36) {
                alert('Maximum 36 teams allowed!');
                return;
            }
            
            selectedTeams.push(teamName);
            renderAvailableTeams();
            renderSelectedTeams();
            updateTeamCount();
        }
        
        // Deselect a team
        function deselectTeam(index) {
            selectedTeams.splice(index, 1);
            renderAvailableTeams();
            renderSelectedTeams();
            updateTeamCount();
        }
        
        // Select all teams
        function selectAllTeams() {
            selectedTeams = [...allTeams.slice(0, 36)];
            renderAvailableTeams();
            renderSelectedTeams();
            updateTeamCount();
        }
        
        // Clear all teams
        function clearAllTeams() {
            selectedTeams = [];
            renderAvailableTeams();
            renderSelectedTeams();
            updateTeamCount();
            hideDrawResults();
        }
        
        // Update team count
        function updateTeamCount() {
            const count = selectedTeams.length;
            const countElement = document.getElementById('teamCount');
            const generateBtn = document.getElementById('generateBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            
            countElement.textContent = count;
            
            if (count === 36) {
                generateBtn.disabled = false;
                countElement.style.color = '#4CAF50';
            } else {
                generateBtn.disabled = true;
                countElement.style.color = count >= 30 ? '#FF9800' : '#ccc';
            }
            
            if (count > 0) {
                downloadBtn.style.display = 'inline-block';
            } else {
                downloadBtn.style.display = 'none';
            }
        }
        
        // Generate draw
        function generateDraw() {
            if (selectedTeams.length !== 36) {
                alert('Please select exactly 36 teams!');
                return;
            }
            
            try {
                footballDraw.clearTeams();
                selectedTeams.forEach(team => footballDraw.addTeam(team));
                
                const results = footballDraw.generateDraw();
                displayDrawResults(results);
                showDrawResults();
            } catch (error) {
                alert('Error: ' + error.message);
            }
        }
        
        // Display draw results
        function displayDrawResults(results) {
            const groupsDisplay = document.getElementById('groupsDisplay');
            const matchesDisplay = document.getElementById('matchesDisplay');
            
            groupsDisplay.innerHTML = footballDraw.getGroupsHTML();
            matchesDisplay.innerHTML = footballDraw.getMatchesHTML();
        }
        
        // Show draw results
        function showDrawResults() {
            document.getElementById('drawResults').style.display = 'block';
            document.getElementById('drawResults').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Hide draw results
        function hideDrawResults() {
            document.getElementById('drawResults').style.display = 'none';
        }
        
        // Download results
        function downloadResults() {
            if (selectedTeams.length === 0) {
                alert('No teams selected!');
                return;
            }
            
            const results = footballDraw.formatResults();
            const blob = new Blob([results], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'champions_league_draw.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // Welcome message when page loads
        window.onload = function() {
            console.log('üèÜ Champions League Draw Simulator is ready!');
            initializePage();
        };
    </script>
</body>
</html>
